{"version":3,"sources":["./src/app/account/city/city.page.html","./src/app/account/city/city.module.ts","./src/app/account/city/city.page.scss","./src/app/account/city/city.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,wPAAyL,iBAAiB,wMAAwM,oBAAoB,gGAAgG,mBAAmB,iGAAiG,aAAa,sEAAsE,WAAW,qSAAqS,kBAAkB,wC;;;;;;;;;;;;;;;;;;;;;;ACAr/B;AACM;AACF;AACU;AAEV;AAEN;AAEvC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mDAAQ;KACpB;CACF,CAAC;AAWF,IAAa,cAAc,GAA3B,MAAa,cAAc;CAAG;AAAjB,cAAc;IAT1B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,mDAAQ,CAAC;KACzB,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;;;;;;ACzB3B;AAAe,6GAA8C,2I;;;;;;;;;;;;;;;;;;;ACAX;AACW;AAC6B;AAQ1F,IAAa,QAAQ,GAArB,MAAa,QAAQ;IAOnB,YAAmB,MAAsB,EAAQ,eAAgC,EAAQ,iBAAoC,EAAS,GAAkB;QAArI,WAAM,GAAN,MAAM,CAAgB;QAAQ,oBAAe,GAAf,eAAe,CAAiB;QAAQ,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAS,QAAG,GAAH,GAAG,CAAe;QADxJ,YAAO,GAAU,+CAA+C,CAAC;QAG/D,IAAG,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,EAClC;YACE,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAC9C,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YAClD,IAAI,CAAC,OAAO,GAAG,8CAA8C,CAAC;SAC/D;QAED,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED,QAAQ;QAEP,IAAI,CAAC,QAAQ,EAAE,CAAC;IACjB,CAAC;IAEK,QAAQ;;YAEb,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBACjD,OAAO,EAAE,kCAAkC;gBAC3C,IAAI,EAAE,KAAK;aACZ,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;YAEzB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,SAAS,CAAC,CAAC,QAAY,EAAE,EAAE;gBAC3C,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAC1B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAC1B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACzB,OAAO,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;QACJ,CAAC;KAAA;IAED,OAAO,CAAC,IAAI;QACV,IAAI,CAAC,IAAI,CAAC,UAAS,CAAC,EAAE,CAAC,IAAE,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAC,CAAC;IAC7F,CAAC;IAEI,YAAY,CAAC,GAAG;;YACnB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAG,KAAK;aACjB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAED,MAAM,CAAC,EAAE;QAEP,wCAAwC;QACxC,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;QAE1B,IAAG,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EACxB;YACI,IAAI,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE;gBAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;oBACtC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACjE,CAAC,CAAC;aACH;SACF;aAED;YACI,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;SAC1B;IAGH,CAAC;IAED,OAAO,CAAC,EAAE,EAAC,IAAI;QAEb,IAAI,CAAC,MAAM,GAAK,EAAE,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACtB,CAAC;IAEK,IAAI;;YAER,IAAG,IAAI,CAAC,MAAM,EACf;gBACE,IAAG,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,MAAM,EAC9E;oBACI,YAAY,CAAC,OAAO,CAAC,SAAS,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC5C,YAAY,CAAC,OAAO,CAAC,WAAW,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAChD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;wBACpD,OAAO,EAAE,oBAAoB;wBAC7B,QAAQ,EAAE,IAAI;qBACb,CAAC,CAAC;oBACH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;oBAExB,IAAI,CAAC,YAAY,CAAC,kCAAkC,CAAC,CAAC;oBACtD,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;oBAC/B,OAAO,CAAC,OAAO,EAAE,CAAC;oBAClB,uBAAuB;oBACvB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,GAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,GAAC,WAAW,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,QAAY,EAAE,EAAE;oBACjH,CAAC,CAAC,CAAC;iBACN;qBAED;oBACI,YAAY,CAAC,OAAO,CAAC,SAAS,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC5C,YAAY,CAAC,OAAO,CAAC,WAAW,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAEhD,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,CAAC;oBAEhD,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;iBAClC;aACH;iBAED;gBACD,IAAI,CAAC,YAAY,CAAC,6CAA6C,CAAC,CAAC;aAC/D;QACF,CAAC;KAAA;CACF;;YA7G6B,qEAAa;YAAyB,8DAAe;YAA2B,gEAAiB;YAAc,4DAAa;;AAP7I,QAAQ;IANpB,+DAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,8MAA+B;;KAEhC,CAAC;2EAS4B,qEAAa,EAAyB,8DAAe,EAA2B,gEAAiB,EAAc,4DAAa;GAP7I,QAAQ,CAoHpB;AApHoB","file":"account-city-city-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"white\\\">\\r\\n  <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title *ngIf=\\\"text\\\">{{text.city_title}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding=\\\"true\\\" *ngIf=\\\"text\\\">\\r\\n\\r\\n<ion-searchbar (ionInput)=\\\"search($event)\\\" mode=\\\"ios\\\" color=\\\"light\\\" placeholder=\\\"{{ text.city_search }}\\\"></ion-searchbar>\\r\\n\\r\\n<ion-list>\\r\\n<ion-radio-group>\\r\\n<ion-list-header>\\r\\n<ion-label>{{text.city_heading}}</ion-label>\\r\\n</ion-list-header>\\r\\n\\r\\n<ion-item *ngFor=\\\"let city of data\\\">\\r\\n<ion-label>{{ city.name }}</ion-label>\\r\\n<ion-radio slot=\\\"start\\\" color=\\\"primary\\\" value=\\\"{{ city.id }}\\\" (ionSelect)=\\\"setCity(city.id,city.name)\\\" [checked]=\\\"city.id == cityID\\\"></ion-radio>\\r\\n\\r\\n</ion-item>\\r\\n</ion-radio-group>\\r\\n</ion-list>\\r\\n<br>\\r\\n<ion-button expand=\\\"block\\\" size=\\\"large\\\" type=\\\"button\\\" [disabled]=\\\"!cityID\\\" (click)=\\\"city()\\\" mode=\\\"ios\\\" color=\\\"primary\\\">{{text.city_button}}</ion-button>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CityPage } from './city.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CityPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [CityPage]\r\n})\r\nexport class CityPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvY2l0eS9jaXR5LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ServerService } from '../../service/server.service';\r\nimport { ToastController,Platform,LoadingController,NavController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-city',\r\n  templateUrl: './city.page.html',\r\n  styleUrls: ['./city.page.scss'],\r\n})\r\n\r\nexport class CityPage implements OnInit {\r\n\r\n  text:any;\r\n  data:any;\r\n  cityID:any;\r\n  cityName:any;\r\n  heading:string = 'Porfavor selecciona tu ciudad para continuar.';\r\n  constructor(public server : ServerService,public toastController: ToastController,public loadingController: LoadingController,private nav: NavController)\r\n  {\r\n    if(localStorage.getItem('city_id'))\r\n    {\r\n      this.cityID = localStorage.getItem('city_id');\r\n      this.cityName = localStorage.getItem('city_name');\r\n      this.heading = \"Want to change your city? Select & continue.\";\r\n    }\r\n\r\n    this.text = JSON.parse(localStorage.getItem('app_text'));\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n  \tthis.loadData();\r\n  }\r\n\r\n  async loadData()\r\n  {\r\n  \tconst loading = await this.loadingController.create({\r\n      message: 'Cargando Ciudades Disponibles...',\r\n      mode: 'ios'\r\n    });\r\n    await loading.present();\r\n\r\n  \tthis.server.city().subscribe((response:any) => {\r\n      this.data = response.data;\r\n      this.text = response.text;\r\n      this.OrderAz(this.data);\r\n  \t  loading.dismiss();\r\n  \t});\r\n  }\r\n\r\n  OrderAz(data) {\r\n    data.sort(function(a, b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase());})\r\n  }\r\n \r\n async presentToast(txt) {\r\n    const toast = await this.toastController.create({\r\n      message: txt,\r\n      duration: 2000,\r\n      position : 'top'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  search(ev) {\r\n   \r\n    // set val to the value of the ev target\r\n    var val = ev.target.value;\r\n\r\n    if(val && val.length > 0)\r\n    {\r\n        if (val && val.trim() != '') {\r\n        this.data = this.data.filter((item) => {\r\n        return (item.name.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n        })\r\n      }\r\n    }\r\n    else\r\n    {\r\n        return this.loadData();\r\n    }\r\n   \r\n  \r\n  }\r\n\r\n  setCity(id,name)\r\n  {\r\n    this.cityID   = id;\r\n  \tthis.cityName = name;\r\n  }\r\n\r\n  async city()\r\n  {\r\n    if(this.cityID)\r\n  \t{\r\n  \t  if(localStorage.getItem('user_id') && localStorage.getItem('user_id') != 'null')\r\n      {\r\n          localStorage.setItem('city_id',this.cityID);\r\n          localStorage.setItem('city_name',this.cityName);\r\n          const loading = await this.loadingController.create({\r\n          message: 'Porfavor espere...',\r\n          duration: 3000\r\n          });\r\n          await loading.present();\r\n\r\n          this.presentToast('Ciudad actualizada exitosamente.');\r\n          this.nav.navigateRoot('/home');\r\n          loading.dismiss();\r\n          // Lo dejamos pendiente\r\n          this.server.updateCity(\"id=\"+localStorage.getItem('user_id')+\"&city_id=\"+this.cityID).subscribe((response:any) => {\r\n          });\r\n      } \r\n      else\r\n      {\r\n          localStorage.setItem('city_id',this.cityID);\r\n          localStorage.setItem('city_name',this.cityName);\r\n\r\n          this.presentToast('City Updated Successfully.');\r\n          \r\n          this.nav.navigateRoot('/home');\r\n      }\r\n  \t}\r\n  \telse\r\n  \t{\r\n\t\tthis.presentToast('Por favor seleccione ciudad para continuar.');\r\n  \t}\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}