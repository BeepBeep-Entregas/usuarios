{"version":3,"sources":["src/app/account/city/city.page.html","src/app/account/city/city.module.ts","src/app/account/city/city.page.scss","src/app/account/city/city.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"white\\\">\\r\\n  <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title *ngIf=\\\"text\\\">{{text.city_title}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding=\\\"true\\\" *ngIf=\\\"text\\\">\\r\\n\\r\\n<ion-searchbar (ionInput)=\\\"search($event)\\\" mode=\\\"ios\\\" color=\\\"light\\\" placeholder=\\\"{{ text.city_search }}\\\"></ion-searchbar>\\r\\n\\r\\n<ion-list>\\r\\n<ion-radio-group>\\r\\n<ion-list-header>\\r\\n<ion-label>{{text.city_heading}}</ion-label>\\r\\n</ion-list-header>\\r\\n\\r\\n<ion-item *ngFor=\\\"let city of data\\\">\\r\\n<ion-label>{{ city.name }}</ion-label>\\r\\n<ion-radio slot=\\\"start\\\" color=\\\"primary\\\" value=\\\"{{ city.id }}\\\" (ionSelect)=\\\"setCity(city.id,city.name)\\\" [checked]=\\\"city.id == cityID\\\"></ion-radio>\\r\\n\\r\\n</ion-item>\\r\\n</ion-radio-group>\\r\\n</ion-list>\\r\\n<br>\\r\\n<ion-button expand=\\\"block\\\" size=\\\"large\\\" type=\\\"button\\\" [disabled]=\\\"!cityID\\\" (click)=\\\"city()\\\" mode=\\\"ios\\\" color=\\\"primary\\\">{{text.city_button}}</ion-button>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CityPage } from './city.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CityPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [CityPage]\r\n})\r\nexport class CityPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvY2l0eS9jaXR5LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ServerService } from '../../service/server.service';\r\nimport { ToastController,Platform,LoadingController,NavController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-city',\r\n  templateUrl: './city.page.html',\r\n  styleUrls: ['./city.page.scss'],\r\n})\r\n\r\nexport class CityPage implements OnInit {\r\n\r\n  text:any;\r\n  data:any;\r\n  cityID:any;\r\n  cityName:any;\r\n  heading:string = 'Porfavor selecciona tu ciudad para continuar.';\r\n  constructor(public server : ServerService,public toastController: ToastController,public loadingController: LoadingController,private nav: NavController)\r\n  {\r\n    if(localStorage.getItem('city_id'))\r\n    {\r\n      this.cityID = localStorage.getItem('city_id');\r\n      this.cityName = localStorage.getItem('city_name');\r\n      this.heading = \"Want to change your city? Select & continue.\";\r\n    }\r\n\r\n    this.text = JSON.parse(localStorage.getItem('app_text'));\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n  \tthis.loadData();\r\n  }\r\n\r\n  async loadData()\r\n  {\r\n  \tconst loading = await this.loadingController.create({\r\n      message: 'Cargando Ciudades Disponibles...',\r\n      mode: 'ios'\r\n    });\r\n    await loading.present();\r\n\r\n  \tthis.server.city().subscribe((response:any) => {\r\n      this.data = response.data;\r\n      this.text = response.text;\r\n      this.OrderAz(this.data);\r\n  \t  loading.dismiss();\r\n  \t});\r\n  }\r\n\r\n  OrderAz(data) {\r\n    data.sort(function(a, b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase());})\r\n  }\r\n \r\n async presentToast(txt) {\r\n    const toast = await this.toastController.create({\r\n      message: txt,\r\n      duration: 2000,\r\n      position : 'top'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  search(ev) {\r\n   \r\n    // set val to the value of the ev target\r\n    var val = ev.target.value;\r\n\r\n    if(val && val.length > 0)\r\n    {\r\n        if (val && val.trim() != '') {\r\n        this.data = this.data.filter((item) => {\r\n        return (item.name.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n        })\r\n      }\r\n    }\r\n    else\r\n    {\r\n        return this.loadData();\r\n    }\r\n   \r\n  \r\n  }\r\n\r\n  setCity(id,name)\r\n  {\r\n    this.cityID   = id;\r\n  \tthis.cityName = name;\r\n  }\r\n\r\n  async city()\r\n  {\r\n    if(this.cityID)\r\n  \t{\r\n  \t  if(localStorage.getItem('user_id') && localStorage.getItem('user_id') != 'null')\r\n      {\r\n          localStorage.setItem('city_id',this.cityID);\r\n          localStorage.setItem('city_name',this.cityName);\r\n          const loading = await this.loadingController.create({\r\n          message: 'Porfavor espere...',\r\n          duration: 3000\r\n          });\r\n          await loading.present();\r\n\r\n          this.presentToast('Ciudad actualizada exitosamente.');\r\n          this.nav.navigateRoot('/home');\r\n          loading.dismiss();\r\n          // Lo dejamos pendiente\r\n          this.server.updateCity(\"id=\"+localStorage.getItem('user_id')+\"&city_id=\"+this.cityID).subscribe((response:any) => {\r\n          });\r\n      } \r\n      else\r\n      {\r\n          localStorage.setItem('city_id',this.cityID);\r\n          localStorage.setItem('city_name',this.cityName);\r\n\r\n          this.presentToast('City Updated Successfully.');\r\n          \r\n          this.nav.navigateRoot('/home');\r\n      }\r\n  \t}\r\n  \telse\r\n  \t{\r\n\t\tthis.presentToast('Por favor seleccione ciudad para continuar.');\r\n  \t}\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"account-city-city-module-es5.js"}