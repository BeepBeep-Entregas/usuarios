{"version":3,"sources":["src/app/account/forgot/forgot.page.html","src/app/account/forgot/forgot.module.ts","src/app/account/forgot/forgot.page.scss","src/app/account/forgot/forgot.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"white\\\">\\r\\n  <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>¿Olvidaste tu contraseña?</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n<!--Send email for otp-->\\r\\n<form *ngIf=\\\"!user_id && !newPassword\\\" #form=\\\"ngForm\\\" (ngSubmit)=\\\"forgot(form.value)\\\">\\r\\n\\r\\n  <p style=\\\"color: rgb(82, 82, 82);font-family: 'SF Pro Display';font-weight: 400;text-align: center;\\\">\\r\\n    ingrese su correo electrónico y le enviaremos instrucciones sobre cómo restablecerlo\\r\\n  </p>\\r\\n  <br />\\r\\n  <ion-row>\\r\\n    <ion-col size=\\\"3\\\" style=\\\"margin-top: 10.5px !important;\\\">\\r\\n     <span>Email</span>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"9\\\">\\r\\n      <ion-input type=\\\"email\\\" ngModel clearInput required name=\\\"email\\\" placeholder=\\\"Ingresa tu Email\\\"></ion-input>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n<br>\\r\\n\\r\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Enviar</ion-button>\\r\\n<br>\\r\\n</form>\\r\\n\\r\\n<!--Verify OTP code-->\\r\\n<div *ngIf=\\\"user_id && !newPassword\\\">\\r\\n\\r\\n  <ion-card-header>\\r\\n  <ion-card-title>Verifique su correo electrónico</ion-card-title>\\r\\n  <ion-card-subtitle>Se ha enviado un codigo a su correo electrónico {{ this.email }}</ion-card-subtitle>\\r\\n\\r\\n  </ion-card-header>\\r\\n  <br><br>\\r\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"verify(form.value)\\\">\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Ingresa el codigo</ion-label>\\r\\n    <ion-input type=\\\"email\\\" ngModel required name=\\\"otp\\\"></ion-input>\\r\\n  </ion-item>\\r\\n\\r\\n  <br>\\r\\n\\r\\n  <ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Verificar</ion-button>\\r\\n\\r\\n  </form>\\r\\n  <p align=\\\"center\\\">No obtuviste el codigo? <a (click)=\\\"resend()\\\">Reenviar</a></p>\\r\\n\\r\\n</div>\\r\\n\\r\\n<!--Set New Password-->\\r\\n<div *ngIf=\\\"user_id && newPassword\\\">\\r\\n\\r\\n<ion-card-header>\\r\\n<ion-card-title>Establecer nueva contraseña</ion-card-title>\\r\\n\\r\\n</ion-card-header>\\r\\n<br><br>\\r\\n<form #form=\\\"ngForm\\\" (ngSubmit)=\\\"new_password(form.value)\\\">\\r\\n\\r\\n<ion-item>\\r\\n  <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Nueva contraseña\\r\\n  </ion-label>\\r\\n  <ion-input type=\\\"password\\\" ngModel required name=\\\"password\\\"></ion-input>\\r\\n</ion-item>\\r\\n\\r\\n<ion-item>\\r\\n  <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Confirmar contraseña</ion-label>\\r\\n  <ion-input type=\\\"password\\\" ngModel required name=\\\"new_password\\\"></ion-input>\\r\\n</ion-item>\\r\\n\\r\\n<br>\\r\\n\\r\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Actualizar</ion-button>\\r\\n\\r\\n</form>\\r\\n<p align=\\\"center\\\">No obtuviste el codigo? <a (click)=\\\"resend()\\\">Reenviar</a></p>\\r\\n\\r\\n</div>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ForgotPage } from './forgot.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ForgotPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ForgotPage]\r\n})\r\nexport class ForgotPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvZm9yZ290L2ZvcmdvdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ServerService } from '../../service/server.service';\r\nimport { ToastController,NavController,Platform,LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-forgot',\r\n  templateUrl: './forgot.page.html',\r\n  styleUrls: ['./forgot.page.scss'],\r\n})\r\nexport class ForgotPage implements OnInit {\r\n\r\n  user_id:any;\r\n  newPassword = false;\r\n  email:any;\r\n  text:any;\r\n  constructor(public server : ServerService,public toastController: ToastController,private nav: NavController,public loadingController: LoadingController) { \r\n\r\n   this.text = JSON.parse(localStorage.getItem('app_text'));\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async forgot(data,type = \"new\")\r\n  {\r\n\t\r\n  \tif(type == \"new\" && data.email.length == 0)\r\n  \t{\r\n  \t\tthis.presentToast('Porfavor Ingresa un Correo electronico','warning');\r\n  \t}\r\n  \telse\r\n  \t{\r\n\t\tconst loading = await this.loadingController.create({\r\n\t\tmessage: 'Porfavor espere...',\r\n\t\tmode:'ios'\r\n\t\t});\r\n\t\tawait loading.present();\r\n\r\n\t\tthis.server.forgot(data).subscribe((response:any) => {\r\n\t\t\t\r\n\t\tif(response.msg == \"error\")\r\n\t\t{\r\n\t\t\tthis.presentToast(response.error,'danger');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.presentToast(\"El codigo de recuperación ha sido enviado\",'primary');\r\n\t\t\tthis.user_id = response.user_id;\r\n\t\t\tthis.email   = data.email;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tloading.dismiss();\r\n\r\n\t\t});\r\n  \t}\r\n  }\r\n\r\n  async verify(data)\r\n  {\r\n  \tif(data.otp.length == 0)\r\n  \t{\r\n  \t\tthis.presentToast('Porfavor ingresa el codigo.','warning');\r\n  \t}\r\n  \telse\r\n  \t{\r\n\t\tconst loading = await this.loadingController.create({\r\n\t\tmessage: 'Porfavor espera...',\r\n\t\tduration: 3000,\r\n\t\tmode:'ios'\r\n\t\t});\r\n\t\tawait loading.present();\r\n\r\n\t\tvar allData = {otp : data.otp,user_id : this.user_id}\r\n\r\n\t\tthis.server.verify(allData).subscribe((response:any) => {\r\n\r\n\t\tif(response.msg == \"error\")\r\n\t\t{\r\n\t\t\tthis.presentToast(response.error,'danger');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.user_id \t   = response.user_id;\r\n\t\t\tthis.newPassword   = true;\r\n\r\n\t\t\tthis.presentToast(\"Correo verificado con exito.\", 'success');\r\n\t\t}\r\n\r\n\t\tloading.dismiss();\r\n\r\n\t\t});\r\n  \t}\r\n  }\r\n\r\n  async new_password(data)\r\n  {\r\n  \tif(data.password.length == 0)\r\n  \t{\r\n  \t\tthis.presentToast('Porfavor ingresa tu nueva contraseña','warning');\r\n  \t}\r\n  \telse if(data.password != data.new_password)\r\n  \t{\r\n  \t\tthis.presentToast('Confirme que las contraseñas coincidan.','warning');\r\n  \t}\r\n  \telse\r\n  \t{\r\n\t\tconst loading = await this.loadingController.create({\r\n\t\tmessage: 'Please wait...',\r\n\t\tduration: 3000,\r\n\t\tmode:'ios'\r\n\t\t});\r\n\t\tawait loading.present();\r\n\r\n\t\tvar allData = {password : data.password,user_id : this.user_id}\r\n\r\n\t\tthis.server.updatePassword(allData).subscribe((response:any) => {\r\n\r\n\t\tif(response.msg == \"error\")\r\n\t\t{\r\n\t\t\tthis.presentToast(response.error,'danger');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.nav.navigateForward('/city');\r\n\t\t\tthis.presentToast(\"Nueva contraseña actualizada con éxito.\",'success');\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tloading.dismiss();\r\n\r\n\t\t});\r\n  \t}\r\n  }\r\n\r\n  async presentToast(txt, color) {\r\n    const toast = await this.toastController.create({\r\n      message: txt,\r\n      duration: 3000,\r\n      position : 'top',\r\n      mode:'ios',\r\n      color:color\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  resend()\r\n  {\r\n  \tthis.forgot({email : this.email});\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"account-forgot-forgot-module-es5.js"}