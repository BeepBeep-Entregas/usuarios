{"version":3,"sources":["./src/app/account/forgot/forgot.page.html","./src/app/account/forgot/forgot.module.ts","./src/app/account/forgot/forgot.page.scss","./src/app/account/forgot/forgot.page.ts"],"names":[],"mappings":"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","file":"account-forgot-forgot-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"white\\\">\\r\\n  <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>¿Olvidaste tu contraseña?</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n<!--Send email for otp-->\\r\\n<form *ngIf=\\\"!user_id && !newPassword\\\" #form=\\\"ngForm\\\" (ngSubmit)=\\\"forgot(form.value)\\\">\\r\\n\\r\\n  <p style=\\\"color: rgb(82, 82, 82);font-family: 'SF Pro Display';font-weight: 400;text-align: center;\\\">\\r\\n    ingrese su correo electrónico y le enviaremos instrucciones sobre cómo restablecerlo\\r\\n  </p>\\r\\n  <br />\\r\\n  <ion-row>\\r\\n    <ion-col size=\\\"3\\\" style=\\\"margin-top: 10.5px !important;\\\">\\r\\n     <span>Email</span>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"9\\\">\\r\\n      <ion-input type=\\\"email\\\" ngModel clearInput required name=\\\"email\\\" placeholder=\\\"Ingresa tu Email\\\"></ion-input>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n<br>\\r\\n\\r\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Enviar</ion-button>\\r\\n<br>\\r\\n</form>\\r\\n\\r\\n<!--Verify OTP code-->\\r\\n<div *ngIf=\\\"user_id && !newPassword\\\">\\r\\n\\r\\n  <ion-card-header>\\r\\n  <ion-card-title>Verifique su correo electrónico</ion-card-title>\\r\\n  <ion-card-subtitle>Se ha enviado un codigo a su correo electrónico {{ this.email }}</ion-card-subtitle>\\r\\n\\r\\n  </ion-card-header>\\r\\n  <br><br>\\r\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"verify(form.value)\\\">\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Ingresa el codigo</ion-label>\\r\\n    <ion-input type=\\\"email\\\" ngModel required name=\\\"otp\\\"></ion-input>\\r\\n  </ion-item>\\r\\n\\r\\n  <br>\\r\\n\\r\\n  <ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Verificar</ion-button>\\r\\n\\r\\n  </form>\\r\\n  <p align=\\\"center\\\">No obtuviste el codigo? <a (click)=\\\"resend()\\\">Reenviar</a></p>\\r\\n\\r\\n</div>\\r\\n\\r\\n<!--Set New Password-->\\r\\n<div *ngIf=\\\"user_id && newPassword\\\">\\r\\n\\r\\n<ion-card-header>\\r\\n<ion-card-title>Establecer nueva contraseña</ion-card-title>\\r\\n\\r\\n</ion-card-header>\\r\\n<br><br>\\r\\n<form #form=\\\"ngForm\\\" (ngSubmit)=\\\"new_password(form.value)\\\">\\r\\n\\r\\n<ion-item>\\r\\n  <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Nueva contraseña\\r\\n  </ion-label>\\r\\n  <ion-input type=\\\"password\\\" ngModel required name=\\\"password\\\"></ion-input>\\r\\n</ion-item>\\r\\n\\r\\n<ion-item>\\r\\n  <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Confirmar contraseña</ion-label>\\r\\n  <ion-input type=\\\"password\\\" ngModel required name=\\\"new_password\\\"></ion-input>\\r\\n</ion-item>\\r\\n\\r\\n<br>\\r\\n\\r\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Actualizar</ion-button>\\r\\n\\r\\n</form>\\r\\n<p align=\\\"center\\\">No obtuviste el codigo? <a (click)=\\\"resend()\\\">Reenviar</a></p>\\r\\n\\r\\n</div>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ForgotPage } from './forgot.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ForgotPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ForgotPage]\r\n})\r\nexport class ForgotPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvZm9yZ290L2ZvcmdvdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ServerService } from '../../service/server.service';\r\nimport { ToastController,NavController,Platform,LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-forgot',\r\n  templateUrl: './forgot.page.html',\r\n  styleUrls: ['./forgot.page.scss'],\r\n})\r\nexport class ForgotPage implements OnInit {\r\n\r\n  user_id:any;\r\n  newPassword = false;\r\n  email:any;\r\n  text:any;\r\n  constructor(public server : ServerService,public toastController: ToastController,private nav: NavController,public loadingController: LoadingController) { \r\n\r\n   this.text = JSON.parse(localStorage.getItem('app_text'));\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async forgot(data,type = \"new\")\r\n  {\r\n\t\r\n  \tif(type == \"new\" && data.email.length == 0)\r\n  \t{\r\n  \t\tthis.presentToast('Porfavor Ingresa un Correo electronico','warning');\r\n  \t}\r\n  \telse\r\n  \t{\r\n\t\tconst loading = await this.loadingController.create({\r\n\t\tmessage: 'Porfavor espere...',\r\n\t\tmode:'ios'\r\n\t\t});\r\n\t\tawait loading.present();\r\n\r\n\t\tthis.server.forgot(data).subscribe((response:any) => {\r\n\t\t\t\r\n\t\tif(response.msg == \"error\")\r\n\t\t{\r\n\t\t\tthis.presentToast(response.error,'danger');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.presentToast(\"El codigo de recuperación ha sido enviado\",'primary');\r\n\t\t\tthis.user_id = response.user_id;\r\n\t\t\tthis.email   = data.email;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tloading.dismiss();\r\n\r\n\t\t});\r\n  \t}\r\n  }\r\n\r\n  async verify(data)\r\n  {\r\n  \tif(data.otp.length == 0)\r\n  \t{\r\n  \t\tthis.presentToast('Porfavor ingresa el codigo.','warning');\r\n  \t}\r\n  \telse\r\n  \t{\r\n\t\tconst loading = await this.loadingController.create({\r\n\t\tmessage: 'Porfavor espera...',\r\n\t\tduration: 3000,\r\n\t\tmode:'ios'\r\n\t\t});\r\n\t\tawait loading.present();\r\n\r\n\t\tvar allData = {otp : data.otp,user_id : this.user_id}\r\n\r\n\t\tthis.server.verify(allData).subscribe((response:any) => {\r\n\r\n\t\tif(response.msg == \"error\")\r\n\t\t{\r\n\t\t\tthis.presentToast(response.error,'danger');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.user_id \t   = response.user_id;\r\n\t\t\tthis.newPassword   = true;\r\n\r\n\t\t\tthis.presentToast(\"Correo verificado con exito.\", 'success');\r\n\t\t}\r\n\r\n\t\tloading.dismiss();\r\n\r\n\t\t});\r\n  \t}\r\n  }\r\n\r\n  async new_password(data)\r\n  {\r\n  \tif(data.password.length == 0)\r\n  \t{\r\n  \t\tthis.presentToast('Porfavor ingresa tu nueva contraseña','warning');\r\n  \t}\r\n  \telse if(data.password != data.new_password)\r\n  \t{\r\n  \t\tthis.presentToast('Confirme que las contraseñas coincidan.','warning');\r\n  \t}\r\n  \telse\r\n  \t{\r\n\t\tconst loading = await this.loadingController.create({\r\n\t\tmessage: 'Please wait...',\r\n\t\tduration: 3000,\r\n\t\tmode:'ios'\r\n\t\t});\r\n\t\tawait loading.present();\r\n\r\n\t\tvar allData = {password : data.password,user_id : this.user_id}\r\n\r\n\t\tthis.server.updatePassword(allData).subscribe((response:any) => {\r\n\r\n\t\tif(response.msg == \"error\")\r\n\t\t{\r\n\t\t\tthis.presentToast(response.error,'danger');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.nav.navigateForward('/city');\r\n\t\t\tthis.presentToast(\"Nueva contraseña actualizada con éxito.\",'success');\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tloading.dismiss();\r\n\r\n\t\t});\r\n  \t}\r\n  }\r\n\r\n  async presentToast(txt, color) {\r\n    const toast = await this.toastController.create({\r\n      message: txt,\r\n      duration: 3000,\r\n      position : 'top',\r\n      mode:'ios',\r\n      color:color\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  resend()\r\n  {\r\n  \tthis.forgot({email : this.email});\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}