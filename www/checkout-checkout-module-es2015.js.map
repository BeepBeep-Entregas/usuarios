{"version":3,"sources":["./src/app/checkout/checkout.page.html","./src/app/checkout/checkout.module.ts","./src/app/checkout/checkout.page.scss","./src/app/checkout/checkout.page.ts"],"names":[],"mappings":"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","file":"checkout-checkout-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n  <ion-buttons slot=\\\"start\\\">\\r\\n    &nbsp;<ion-icon slot=\\\"start\\\" name=\\\"arrow-back\\\" routerLink=\\\"/cart\\\" routerDirection=\\\"back\\\"></ion-icon> \\r\\n  </ion-buttons>\\r\\n    <ion-title>\\r\\n      \\r\\n      Pagar</ion-title>\\r\\n      \\r\\n  <ion-buttons slot=\\\"end\\\" *ngIf=\\\"data\\\">{{ total_amount | currency }} &nbsp;</ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content *ngIf=\\\"data\\\">\\r\\n\\r\\n<ion-card mode=\\\"ios\\\">\\r\\n\\r\\n<ion-card-header>\\r\\n\\r\\n<ion-card-title>Seleccionar tipo de orden</ion-card-title>\\r\\n\\r\\n</ion-card-header>\\r\\n\\r\\n<ion-card-content>\\r\\n\\r\\n<ion-list>\\r\\n\\r\\n\\r\\n<ion-item *ngIf=\\\"delivery_type == 0\\\">\\r\\n    <ion-label>Este comercio no tiene servicio a domicilio</ion-label>\\r\\n</ion-item>\\r\\n\\r\\n<ion-item *ngIf=\\\"delivery_type == 1\\\">\\r\\n<ion-label>Entrega a domicilio</ion-label>\\r\\n<ion-radio slot=\\\"start\\\" value=\\\"1\\\" (ionSelect)=\\\"setType(1)\\\" [checked]=\\\"otype == 1\\\"></ion-radio>\\r\\n</ion-item>\\r\\n\\r\\n<!-- <ion-item>\\r\\n<ion-label>Recoger en tienda (No se cobrará envío)</ion-label>\\r\\n<ion-radio slot=\\\"start\\\" value=\\\"2\\\" (ionSelect)=\\\"setType(2)\\\" [checked]=\\\"otype == 2\\\"></ion-radio>\\r\\n</ion-item> -->\\r\\n\\r\\n</ion-list>\\r\\n\\r\\n</ion-card-content>\\r\\n\\r\\n</ion-card>\\r\\n\\r\\n<ion-card mode=\\\"ios\\\">\\r\\n\\r\\n  <ion-card-header>\\r\\n\\r\\n  <ion-card-title>\\r\\n    Metodo de pago\\r\\n  </ion-card-title>\\r\\n\\r\\n  </ion-card-header>\\r\\n\\r\\n  <ion-card-content>\\r\\n  <ion-item style=\\\"font-size: 13px\\\">\\r\\n    <ion-label><img src=\\\"https://image.flaticon.com/icons/svg/760/760503.svg\\\" style=\\\"width:30px\\\"> Pagar en efectivo</ion-label>\\r\\n    <ion-radio slot=\\\"start\\\" value=\\\"1\\\" (ionSelect)=\\\"setPayment(1)\\\" [checked]=\\\"payment == 1\\\"></ion-radio>\\r\\n  </ion-item>\\r\\n\\r\\n\\r\\n  <ion-item style=\\\"font-size: 13px\\\" *ngIf=\\\"paypal_id\\\">\\r\\n  <ion-label><img src=\\\"assets/paypal.png\\\" style=\\\"width: 90px\\\"> <span style=\\\"margin-top: -40px\\\">Pay Via Paypal</span></ion-label>\\r\\n  <ion-radio slot=\\\"start\\\" value=\\\"2\\\" (ionSelect)=\\\"setPayment(2)\\\" [checked]=\\\"payment == 2\\\"></ion-radio>\\r\\n  </ion-item>\\r\\n\\r\\n\\r\\n  <ion-item style=\\\"font-size: 13px\\\" *ngIf=\\\"stripe_id\\\">\\r\\n    <ion-label><img src=\\\"assets/stripe.png\\\" style=\\\"width: 150px\\\"> <span style=\\\"margin-top: -40px\\\">Pay Via Stripe</span></ion-label>\\r\\n    <ion-radio slot=\\\"start\\\" value=\\\"2\\\" (ionSelect)=\\\"setPayment(3)\\\" [checked]=\\\"payment == 3\\\"></ion-radio>\\r\\n  </ion-item>\\r\\n  \\r\\n\\r\\n  <div *ngIf=\\\"stripeView\\\">\\r\\n\\r\\n    <p>Proporcione los siguientes detalles</p>\\r\\n    \\r\\n    <ion-row>\\r\\n    \\r\\n    <ion-col size=\\\"12\\\">\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">Card Number</ion-label>\\r\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"card_no\\\" name=\\\"card_no\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    </ion-col>\\r\\n    \\r\\n    <ion-col size=\\\"6\\\">\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">Exp Month</ion-label>\\r\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"exp_month\\\" name=\\\"exp_month\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    </ion-col>\\r\\n    \\r\\n    <ion-col size=\\\"6\\\">\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">Exp Year</ion-label>\\r\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"exp_year\\\" name=\\\"exp_year\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    </ion-col>\\r\\n    \\r\\n    <ion-col size=\\\"12\\\">\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">CVV</ion-label>\\r\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"cvv\\\" name=\\\"cvv\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    </ion-col>\\r\\n    \\r\\n    </ion-row>\\r\\n    \\r\\n  </div>\\r\\n  </ion-card-content>\\r\\n\\r\\n</ion-card>\\r\\n\\r\\n\\r\\n<div class=\\\"ion-padding\\\">\\r\\n\\r\\n<ion-item>\\r\\n<ion-textarea placeholder=\\\"Agrega Cualquier instrucción para la comida ... por ejemplo, extra picante\\\" [(ngModel)]=\\\"notes\\\" name=\\\"notes\\\"></ion-textarea>\\r\\n</ion-item>\\r\\n<br>\\r\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"button\\\" [disabled]=\\\"!formVal()\\\" (click)=\\\"makeOrder()\\\">Confirmar orden</ion-button>\\r\\n\\r\\n</div>\\r\\n\\r\\n<br>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CheckoutPage } from './checkout.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CheckoutPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [CheckoutPage]\r\n})\r\nexport class CheckoutPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoZWNrb3V0L2NoZWNrb3V0LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ServerService } from '../service/server.service';\r\nimport { ToastController,LoadingController,NavController } from '@ionic/angular';\r\nimport { PayPal, PayPalPayment, PayPalConfiguration } from '@ionic-native/paypal/ngx';\r\nimport { Stripe } from '@ionic-native/stripe/ngx';\r\n\r\n@Component({\r\n  selector: 'app-checkout',\r\n  templateUrl: './checkout.page.html',\r\n  styleUrls: ['./checkout.page.scss'],\r\n})\r\n\r\nexport class CheckoutPage implements OnInit {\r\n\r\n  data:any;\r\n  address:any;\r\n  payment:any;\r\n  payment_id : any;\r\n  total_amount:any;\r\n  paypal_id:any;\r\n  Cuenta_clave:any;\r\n  banco_name:any;\r\n  text:any;\r\n  stripe_id:any;\r\n  stripeView = false;\r\n  card_no:any;\r\n  exp_month:any;\r\n  exp_year:any;\r\n  cvv:any;\r\n  notes:any;\r\n  delivery_type:any;\r\n  admin:any;\r\n  delivery_status: any;\r\n  delivery_charges: any;\r\n  otype:number = 1;\r\n  constructor(public server : ServerService,public toastController: ToastController,public loadingController: LoadingController,private nav: NavController,private payPal: PayPal,private stripe: Stripe,\r\n    )\r\n  {\r\n    this.text = JSON.parse(localStorage.getItem('app_text'));\r\n    this.address = localStorage.getItem('address_id');\r\n    this.admin = JSON.parse(localStorage.getItem('admin'));\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n  \r\n  }\r\n\r\n  ionViewWillEnter()\r\n  {\r\n    if(!localStorage.getItem('user_id') || localStorage.getItem('user_id') == 'null')\r\n    {\r\n      this.nav.navigateRoot('/login');\r\n\r\n      this.presentToast(\"Please login for continue.\");\r\n    }\r\n    else\r\n    {\r\n\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n\r\n  setType(id)\r\n  {\r\n    if (id == 2) {\r\n      this.total_amount = Number(this.total_amount) - Number(this.delivery_charges);\r\n      this.delivery_status = false;\r\n    }else {\r\n      if (this.delivery_status == false) {\r\n        this.total_amount = Number(this.total_amount) + Number(this.delivery_charges);\r\n      }\r\n    }\r\n\r\n    this.otype = id;\r\n    this.payment = false;\r\n    this.stripeView = false;\r\n  }\r\n\r\n  formVal()\r\n  {\r\n    if(this.otype == 1)\r\n    {\r\n      if(!this.address || !this.payment)\r\n      {\r\n        return false;\r\n      }\r\n      else\r\n      {\r\n        return true;\r\n      }\r\n    }\r\n    else\r\n    {\r\n      if(!this.payment)\r\n      {\r\n        return false;\r\n      }\r\n      else\r\n      {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  setPayment(id)\r\n  {\r\n    this.payment = id;\r\n\r\n    if(id == 3)\r\n    {\r\n      this.stripeView = true;\r\n    }\r\n    else\r\n    {\r\n      this.stripeView = false;\r\n    }\r\n  }\r\n\r\n  async loadData()\r\n  {\r\n  \tconst loading = await this.loadingController.create({\r\n      message: 'Espere porfavor...',\r\n      mode: 'ios'\r\n    });\r\n    await loading.present();\r\n\r\n    var lid = localStorage.getItem('lid') ? localStorage.getItem('lid') : 0;\r\n    var lat = localStorage.getItem(\"current_lat\") ? localStorage.getItem(\"current_lat\") : 0;\r\n    var lng = localStorage.getItem(\"current_lng\") ? localStorage.getItem(\"current_lng\") : 0;\r\n\r\n    this.server.getCart(localStorage.getItem('cart_no')+\"?lid=\"+lid+\"&lat=\"+lat+\"&lng=\"+lng).subscribe((response:any) => {\r\n     \r\n      var store_id = response.data.data[0].store_id;  \r\n      this.server.getDeliveryType(store_id).subscribe(data => {\r\n        this.delivery_type = data[0][0].service_del;\r\n        if (this.delivery_type == 0) {\r\n          this.otype = 2;\r\n        }\r\n      });\r\n  \r\n      // localStorage.getItem('user_id')\r\n      this.server.getAddress(localStorage.getItem('user_id')+\"?cart_no=\"+localStorage.getItem('cart_no')+\"&store=\"+store_id+\"&lid=\"+lid+\"&lat=\"+lat+\"&lng=\"+lng).subscribe((response:any) => {\r\n        \r\n      this.data         = response.data;\r\n      console.log(this.data);\r\n      if (response.data.address.length > 0) {\r\n        // this.address      = response.data.address[0].id; // Marcamos la primer opcion que tenga\r\n      }else {\r\n        this.nav.navigateRoot('/address');\r\n      }\r\n      this.total_amount = (response.data.total);\r\n      this.delivery_charges = response.data.Comercio.delivery_charges_value;\r\n      if(response.data.Comercio.Cuenta_clave)\r\n      {\r\n        this.Cuenta_clave = response.data.Comercio.Cuenta_clave;\r\n        this.banco_name   = response.data.Comercio.banco_name;\r\n      }\r\n      \r\n      if(this.admin.paypal_client_id)\r\n      {\r\n          this.paypal_id    = this.admin.paypal_client_id;\r\n      }\r\n\r\n      if(this.admin.stripe_client_id)\r\n      {\r\n         this.stripe_id    = this.admin.stripe_client_id;\r\n      }\r\n   });\r\n\r\n  \tloading.dismiss();\r\n\r\n  \t});\r\n  }\r\n\r\n  makeOrder()\r\n  {\r\n    if(this.payment == 2)\r\n    {\r\n      this.payPaypal();\r\n    }\r\n    else if(this.payment == 3)\r\n    {\r\n      this.payWithStripe();\r\n      \r\n    }\r\n    else\r\n    {\r\n      this.order();\r\n    }\r\n  }\r\n\r\n  async order()\r\n  {\r\n    const loading = await this.loadingController.create({\r\n      message: 'Porfavor espere...',\r\n      mode: 'ios'\r\n    });\r\n    await loading.present();\r\n    \r\n    var lat = localStorage.getItem(\"current_lat\") ? localStorage.getItem(\"current_lat\") : 0;\r\n    var lng = localStorage.getItem(\"current_lng\") ? localStorage.getItem(\"current_lng\") : 0;\r\n\r\n    var allData = {\r\n        user_id : localStorage.getItem('user_id'),\r\n        payment : this.payment,\r\n        address : this.address,\r\n        cart_no : localStorage.getItem('cart_no'),\r\n        payment_id : this.payment_id,\r\n        otype : this.otype,\r\n        notes:this.notes,\r\n        lat: lat,\r\n        lng: lng\r\n      }\r\n\r\n      console.log(lat, lng);\r\n    \r\n    this.server.order(allData).subscribe((response:any) => {\r\n     \r\n      if (response.data == 'Not_service') {\r\n        loading.dismiss();\r\n        this.presentToast('Sin servicio en la ubicación Seleccionada');\r\n      }else {\r\n        let LastStore = JSON.parse(localStorage.getItem('menu_item'));\r\n        let dataLS =  [];\r\n        if (localStorage.getItem('LastStore')) {\r\n          dataLS = JSON.parse(localStorage.getItem('LastStore'));\r\n          let has  = dataLS.find(id => id = LastStore.id);\r\n          if (has.store_id != LastStore.id) {\r\n            dataLS.push({\r\n              store_id: LastStore.id\r\n            });\r\n          }\r\n        }else {\r\n          dataLS.push({\r\n            store_id: LastStore.id\r\n          });\r\n        }\r\n\r\n        localStorage.setItem('LastStore', JSON.stringify(dataLS));\r\n\r\n        localStorage.setItem('order_data', JSON.stringify(response.data));\r\n        // Agregamos a ultimas ordenes\r\n\r\n        this.nav.navigateRoot('/done');\r\n\r\n        loading.dismiss();\r\n      }\r\n    });\r\n  }\r\n\r\n  payPaypal()\r\n  { \r\n      this.payPal.init({\r\n      PayPalEnvironmentProduction: this.paypal_id,\r\n      PayPalEnvironmentSandbox: this.paypal_id\r\n      }).then(() => {\r\n        // Environments: PayPalEnvironmentNoNetwork, PayPalEnvironmentSandbox, PayPalEnvironmentProduction\r\n        this.payPal.prepareToRender('PayPalEnvironmentProduction', new PayPalConfiguration({\r\n          // Only needed if you get an \"Internal Service Error\" after PayPal login!\r\n          //payPalShippingAddressOption: 2 // PayPalShippingAddressOptionPayPal\r\n        })).then(() => {\r\n          let payment = new PayPalPayment(this.total_amount, 'MXN', 'Description', 'sale');\r\n          this.payPal.renderSinglePaymentUI(payment).then((res) => {\r\n            \r\n            this.payment_id = res.response.id;\r\n\r\n            if(this.payment_id)\r\n            {\r\n              this.order();\r\n            }\r\n\r\n          }, () => {\r\n            \r\n            this.presentToast(\"Paypal Transaction Cancelled\");\r\n\r\n          });\r\n        }, () => {\r\n\r\n          this.presentToast(\"Error in configuration\");\r\n\r\n        });\r\n      }, () => {\r\n        // \r\n\r\n          this.presentToast(\"Error in initialization, maybe PayPal isn't supported\");\r\n\r\n      });\r\n  }\r\n\r\n  payWithStripe()\r\n  {\r\n    if(this.card_no.length > 10 && this.exp_month && this.exp_year && this.cvv)\r\n    {\r\n      \r\n        this.stripe.setPublishableKey(this.stripe_id);\r\n\r\n        let card = {\r\n         number: this.card_no,\r\n         expMonth: this.exp_month,\r\n         expYear: this.exp_year,\r\n         cvc: this.cvv\r\n        }\r\n        this.stripe.createCardToken(card)\r\n          .then(token => {\r\n            this.makePayment(token.id);\r\n          })\r\n          .catch(error => {\r\n          this.presentToast(\"Por favor ingrese detalles de pago válidos\");\r\n\r\n          });\r\n    }\r\n    else\r\n    {\r\n      this.presentToast(\"Por favor ingrese detalles de pago válidos\");\r\n    }\r\n  }\r\n\r\n  payWithTransfer() {\r\n    this.presentToast(\"Una vez realizada la transferencia no te olvides de enviarle el ticket al comercio.\");\r\n    this.payment_id = 0;\r\n    this.order();\r\n  }\r\n\r\n  async makePayment(token)\r\n  {\r\n    const loading = await this.loadingController.create({\r\n      message: 'Enviando Informacion...',\r\n      mode: 'ios'\r\n    });\r\n    await loading.present();\r\n\r\n    this.server.makeStripePayment(\"?token=\"+token+\"&amount=\"+this.total_amount).subscribe((response:any) => {\r\n\r\n    if(response.data == \"done\")\r\n    {\r\n        this.payment_id = response.id;\r\n\r\n        if(this.payment_id)\r\n        {\r\n          this.order();\r\n        }\r\n    }\r\n    else\r\n    {\r\n      this.presentToast(\"Algo salió mal. Por favor, vuelva a intentarlo.\");\r\n    }\r\n\r\n    loading.dismiss();\r\n\r\n    });\r\n  }\r\n\r\n  async presentToast(txt) {\r\n    const toast = await this.toastController.create({\r\n      message: txt,\r\n      duration: 2000,\r\n      position : 'bottom'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}