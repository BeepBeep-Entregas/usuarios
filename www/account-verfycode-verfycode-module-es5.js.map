{"version":3,"sources":["src/app/account/verfycode/verfycode.page.html","src/app/account/verfycode/verfycode.module.ts","src/app/account/verfycode/verfycode.page.scss","src/app/account/verfycode/verfycode.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-content>\\r\\n<!--Verify OTP code-->\\r\\n<div>\\r\\n  <ion-card-header>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <h1 class=\\\"welcome_text\\\">\\r\\n          Verifique su<br />\\r\\n          bandeja de SMS\\r\\n        </h1>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <p style=\\\"color: rgb(85, 85, 85);font-family: 'SF Pro Display';font-weight: 400;font-style: normal;font-size: 14px;\\\">\\r\\n      Se ha enviado un codigo al Telefono <b>{{ phone }}</b> Verifica tu bandeja.\\r\\n    </p>\\r\\n  </ion-card-header>\\r\\n  \\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" style=\\\"font-family: 'SF Pro Display';font-weight: 400;font-style: normal;font-size: 12px\\\">Ingresa el codigo</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"Code\\\" required></ion-input>\\r\\n  </ion-item>\\r\\n  \\r\\n  <p align=\\\"center\\\" style=\\\"font-family: 'SF Pro Display';font-weight: 400;font-style: normal\\\">No obtuviste el codigo? <a routerLink=\\\"/home\\\" routerDirection=\\\"forward\\\">Reenviar</a></p>\\r\\n\\r\\n</div>\\r\\n</ion-content>\\r\\n<ion-footer style=\\\"text-align: center;\\\">\\r\\n  <ion-button expand=\\\"block\\\" (click)=\\\"verfyCode()\\\" style=\\\"font-family: 'SF Pro Display';font-weight: 500;font-size: 16px;\\\">{{txtbnt}}</ion-button>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { VerfycodePage } from './verfycode.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VerfycodePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [VerfycodePage]\r\n})\r\nexport class VerfycodePageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvdmVyZnljb2RlL3ZlcmZ5Y29kZS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ServerService } from '../../service/server.service';\r\nimport { ToastController,NavController,LoadingController,Events } from '@ionic/angular';\r\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\r\n\r\n@Component({\r\n  selector: 'app-verfycode',\r\n  templateUrl: './verfycode.page.html',\r\n  styleUrls: ['./verfycode.page.scss'],\r\n})\r\nexport class VerfycodePage implements OnInit {\r\n\r\n  user_id:any;\r\n  Code: String;\r\n  phone: any = '';\r\n  stateVerify;\r\n  windowsRef:any;\r\n  confirmationResult: any;\r\n  txtbnt: any = 'Verificar';\r\n  public recaptchaVerifier: firebase.auth.RecaptchaVerifier;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    public server : ServerService,\r\n    public toastController: ToastController,\r\n    public keyboard:Keyboard,\r\n    private nav: NavController,\r\n    public loadingController: LoadingController,\r\n    public events: Events,\r\n  ) { \r\n    if (!localStorage.getItem('confirmationResult')) {\r\n      this.nav.navigateForward('/home');\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.windowsRef = this.server.windowRef;\r\n    this.windowsRef.recaptchaVerifier = localStorage.getItem('confirmationResult');\r\n    this.phone = localStorage.getItem('phone');\r\n    this.user_id = localStorage.getItem('user_id');\r\n  }\r\n\r\n  async verfyCode()\r\n  {\r\n    const loading = await this.loadingController.create({\r\n      message: 'Validando...',\r\n    });\r\n    await loading.present();\r\n    if (this.Code && this.Code.toString().length >= 4 && this.Code.toString().length <= 8) {\r\n      let verificationCode: String = this.Code.toString();\r\n      this.windowsRef.confirmationResult.confirm(verificationCode).then(result => {\r\n        console.log('paso...'+result);\r\n        // User Signed\r\n        var allData = {phone : this.phone,user_id : this.user_id}\r\n        this.server.SignPhone(allData).subscribe(res => {\r\n          if (res) {\r\n            loading.dismiss();\r\n            this.presentToast('Registro completo...','success');\r\n            this.nav.navigateForward('/city');\r\n          }\r\n        });\r\n      }).catch(fail => {\r\n        // Fail\r\n        this.presentToast('Algo ha ocurrido.'+fail, 'danger');\r\n      });\r\n    }else {\r\n      loading.dismiss();\r\n      this.presentToast('Porfavor Ingresa un Codigo valido!','danger');\r\n    }\r\n  }\r\n\r\n  async presentToast(txt, color) {\r\n    const toast = await this.toastController.create({\r\n      message: txt,\r\n      duration: 3000,\r\n      position : 'top',\r\n      mode:'ios',\r\n      color:color\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///","file":"account-verfycode-verfycode-module-es5.js"}